---
title: "visit"
parent: "messageformat"
grand_parent: API Reference
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->



# visit() function

> This API is provided as a beta preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

Apply visitor functions to message nodes.

**Signature:**

```typescript
export declare function visit(msg: Message, visitors: {
    annotation?: (annotation: FunctionAnnotation | UnsupportedAnnotation, context: 'declaration' | 'selector' | 'placeholder', argument: Literal | VariableRef | undefined) => (() => void) | void;
    declaration?: (declaration: Declaration) => (() => void) | void;
    expression?: (expression: Expression, context: 'declaration' | 'selector' | 'placeholder') => (() => void) | void;
    key?: (key: Literal | CatchallKey, index: number, keys: (Literal | CatchallKey)[]) => void;
    markup?: (markup: Markup, context: 'declaration' | 'placeholder') => (() => void) | void;
    node?: (node: MessageNode, ...rest: unknown[]) => void;
    option?: (option: Option, index: number, options: Option[], context: 'declaration' | 'selector' | 'placeholder') => (() => void) | void;
    pattern?: (pattern: Pattern) => (() => void) | void;
    value?: (value: Literal | VariableRef, context: 'declaration' | 'selector' | 'placeholder', position: 'arg' | 'option') => void;
    variant?: (variant: Variant) => (() => void) | void;
}): void;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  msg | [Message](./messageformat.message.md) |  |
|  visitors | { annotation?: (annotation: [FunctionAnnotation](./messageformat.functionannotation.md) \| [UnsupportedAnnotation](./messageformat.unsupportedannotation.md)<!-- -->, context: 'declaration' \| 'selector' \| 'placeholder', argument: [Literal](./messageformat.literal.md) \| [VariableRef](./messageformat.variableref.md) \| undefined) =&gt; (() =&gt; void) \| void; declaration?: (declaration: [Declaration](./messageformat.declaration.md)<!-- -->) =&gt; (() =&gt; void) \| void; expression?: (expression: [Expression](./messageformat.expression.md)<!-- -->, context: 'declaration' \| 'selector' \| 'placeholder') =&gt; (() =&gt; void) \| void; key?: (key: [Literal](./messageformat.literal.md) \| [CatchallKey](./messageformat.catchallkey.md)<!-- -->, index: number, keys: ([Literal](./messageformat.literal.md) \| [CatchallKey](./messageformat.catchallkey.md)<!-- -->)\[\]) =&gt; void; markup?: (markup: [Markup](./messageformat.markup.md)<!-- -->, context: 'declaration' \| 'placeholder') =&gt; (() =&gt; void) \| void; node?: (node: [MessageNode](./messageformat.messagenode.md)<!-- -->, ...rest: unknown\[\]) =&gt; void; option?: (option: [Option](./messageformat.option.md)<!-- -->, index: number, options: [Option](./messageformat.option.md)<!-- -->\[\], context: 'declaration' \| 'selector' \| 'placeholder') =&gt; (() =&gt; void) \| void; pattern?: (pattern: [Pattern](./messageformat.pattern.md)<!-- -->) =&gt; (() =&gt; void) \| void; value?: (value: [Literal](./messageformat.literal.md) \| [VariableRef](./messageformat.variableref.md)<!-- -->, context: 'declaration' \| 'selector' \| 'placeholder', position: 'arg' \| 'option') =&gt; void; variant?: (variant: [Variant](./messageformat.variant.md)<!-- -->) =&gt; (() =&gt; void) \| void; } |  |

**Returns:**

void

## Remarks

The visitors are applied in source order, starting from the root. Visitors for nodes that contain other nodes may return a callback function that will be called with no arguments when exiting the node.

If set, the `node` visitor is called for all [MessageNode](./messageformat.messagenode.md) values for which an explicit visitor is not defined.

Many visitors will be called with additional arguments identifying some of the context for the visited node.

